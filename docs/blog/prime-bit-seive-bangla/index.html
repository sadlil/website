<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.55.6" />
  <meta name="author" content="Kazi Sadlil Rhythom">
  <meta name="description" content="Software Engineer, Site Reliability Engineering">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/googlecode.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  <link href="//cdn.rawgit.com/noelboss/featherlight/1.7.0/release/featherlight.min.css" type="text/css" rel="stylesheet" />

  

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="https://sadlil.com/blog/prime-bit-seive-bangla/">

  <script type="text/javascript">
    if ((window.location.hostname != "localhost") && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>


  <title>প্রাইম - বিট সিভ | Sadlil&#39;s</title>

  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107529346-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)};
    gtag('js', new Date());

    gtag('config', 'UA-107529346-1');
  </script>
  
</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">
<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Sadlil&#39;s</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#works">
            
            <span>Experience</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#achievements">
            
            <span>Achievements</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/blog/">
            
            <span>Blog</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="https://www.flickr.com/photos/80878359@N08/">
            
            <span>Photography</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/downloads/sadlil-resume-v4.0.0.pdf">
            
            <span>Resume</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>

<div class="container">
  <article class="article full-article" itemscope itemtype="http://schema.org/Article">
    

    <br>
    <h1 itemprop="name">প্রাইম - বিট সিভ</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2014-02-03 11:00:00 &#43;0000 UTC" itemprop="datePublished">
      Mon, Feb 3, 2014
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/bangla">bangla</a
    >, 
    
    <a href="/tags/prime">prime</a
    >, 
    
    <a href="/tags/acm">acm</a
    >, 
    
    <a href="/tags/number-theory">number theory</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fsadlil.com%2fblog%2fprime-bit-seive-bangla%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=%e0%a6%aa%e0%a7%8d%e0%a6%b0%e0%a6%be%e0%a6%87%e0%a6%ae%20-%20%e0%a6%ac%e0%a6%bf%e0%a6%9f%20%e0%a6%b8%e0%a6%bf%e0%a6%ad&amp;url=https%3a%2f%2fsadlil.com%2fblog%2fprime-bit-seive-bangla%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsadlil.com%2fblog%2fprime-bit-seive-bangla%2f&amp;title=%e0%a6%aa%e0%a7%8d%e0%a6%b0%e0%a6%be%e0%a6%87%e0%a6%ae%20-%20%e0%a6%ac%e0%a6%bf%e0%a6%9f%20%e0%a6%b8%e0%a6%bf%e0%a6%ad"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fsadlil.com%2fblog%2fprime-bit-seive-bangla%2f&amp;title=%e0%a6%aa%e0%a7%8d%e0%a6%b0%e0%a6%be%e0%a6%87%e0%a6%ae%20-%20%e0%a6%ac%e0%a6%bf%e0%a6%9f%20%e0%a6%b8%e0%a6%bf%e0%a6%ad"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=%e0%a6%aa%e0%a7%8d%e0%a6%b0%e0%a6%be%e0%a6%87%e0%a6%ae%20-%20%e0%a6%ac%e0%a6%bf%e0%a6%9f%20%e0%a6%b8%e0%a6%bf%e0%a6%ad&amp;body=https%3a%2f%2fsadlil.com%2fblog%2fprime-bit-seive-bangla%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <br>
    <div class="article-style" itemprop="articleBody">
      <div style="width: 5%; float: left;" class="article-like-btn">
        
        <span class="likebtn-wrapper" data-theme="google" data-vert="true" data-show_like_label="false" data-icon_like_show="false" data-icon_dislike_show="false" data-voting_cancelable="false" data-voting_both="true" data-counter_type="subtract_dislikes" data-counter_frmt="km" data-counter_padding="285" data-popup_position="right" data-share_enabled="false" data-loader_show="true" data-tooltip_enabled="false" data-site_id="5a98c5ae6fd08b7d5f8717a1"></span>
        <script>(function(d,e,s){if(d.getElementById("likebtn_wjs"))return;a=d.createElement(e);m=d.getElementsByTagName(e)[0];a.async=1;a.id="likebtn_wjs";a.src=s;m.parentNode.insertBefore(a, m)})(document,"script","//w.likebtn.com/js/w/widget.js");</script>
        
      </div>
      <div style="margin-left: 6%;">
      <p>এক ছোট ভাই পোষ্ট দিল যে ১০০০০০০০০০ এর বড় প্রাইম নাম্বার গুলা কিভাবে বের করা যায়। তার জবাবে এই টিউটোরিয়াল টা লেখা । বড়দের জন্য নয়।</p>

<p>১০০০০০০০০০ প্ররযন্ত প্রাইম নাম্বার আমরা সিভ নামক একটা Algorithm ব্যবহার করে খুব সহজে বের করে ফেলতে পারি। তাই না। sieve মানে ছাকনি। আর Seive of Eratosthenes হল এমন একটা ছাকনি যা কতগুলা নাম্বার থেকে প্রাইম নাম্বার গুলা ছেকে বের করে ফেলে। তার পর-ও যারা সিভ জানে না তারা একটু কষ্ট করে সিভটা শিখে ফেলো।কারন আমরা এখন সিভের
খালাত ভাই- মামত ভাই Algorithm শিখব।</p>

<p>Links for Seive algorithm :<br>
    1.  <a href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" target="_blank">Wikipedia</a><br>
    2.  <a href="http://www.programminglogic.com/the-sieve-of-eratosthenes-implemented-in-c/" target="_blank">Programming Logic</a></p>

<p>সিভের জন্য আমার অনেক ফেভারিট ছবিঃ
<img src="http://upload.wikimedia.org/wikipedia/commons/b/b9/Sieve_of_Eratosthenes_animation.gif" alt="Seive" data-featherlight="http://upload.wikimedia.org/wikipedia/commons/b/b9/Sieve_of_Eratosthenes_animation.gif" style="cursor:zoom-in;"></p>

<p>মামাত ভাই Algorithm শিখার আগে সিভ এর কিছু জিনিস দেখা দরকার। সিভ একটা পতাকা (Flag) Array ব্যবহার করে, যাতে যদি 1 থাকে (কোড ভেদে ০ থাকতে পারে। তবে এখানে আমরা ধরে নিচ্ছি যে ১ থাকলে প্রাইম, ০ থাকলে প্রাইম না) তাহলে সংখ্যাটা প্রাইম। একটু সহজ করে বলছি, Array যদি S হয় তাহলে S[1]==0 মানে হল ১ প্রাইম না। আবার S[2]==1 মানে ২ প্রাইম। তারমানে Array S এর ইনডেক্স থেকে আমরা কোন সংখ্যা প্রাইম নাকি প্রাইম না তা বের করতে পারি। এখন সমস্যা টা হল সিভ ব্যবহার করতে চাইলে আমাদের অবশ্যই একটা Array দরকার। কিন্তু C তে ১০০০০০০০০০ এর বড় সাইজের Array কই পাব। তাহলে এখন আমরা করব কি?? প্রাইম কি তাহলে বের করতে পারব না। কেন পারব না, আমরা অনেক স্মার্ট- আমরা সব পারি।</p>

<p>তো স্মার্ট মানুষেরা প্রাইম বের করার জন্য কিছু পদ্ধতি আবিষ্কার করল&ndash;<br>
        ১। বিট সিভ &ndash; সিভের মামাত ভাই,<br>
        ২। সেগমেন্ট সিভ &ndash;সিভের সুন্দরি খালাত বোন।<br></p>

<p>বিট সিভঃ
সিভ করতে গিয়া অলরেডি আমরা একটা আনস্মার্ট কাজ করে ফেলছি। কি কাজ। কাজটা হল &ndash; সিভের জন্য আমরা যে Array টা নিছি তা। আসলে Array টা না। Array-র টাইপ টা। আমরা সবাই অলমোস্ট S Array টা নিছি ইন্টেজার,তাই না? এখন ইন্টেজার নেয়ায় কি প্রবলেম হইছে আস দেখি &ndash;
একটা ইন্টেজার নাম্বার 16(আসলেই কি তাই) টা বিট দ্বারা তৈরী। তো ইন্টেজার ম্যমরি তে ১ এবং ০ কিভাবে রাখে<br>
1 == 0000000000000001<br>
0 == 0000000000000000<br></p>

<p>তাহলে স্মার্ট মানুষেরা এতক্ষনে বুঝে ফেলছে আমি কি বলতে চাই। আমরা একটা ইন্টেজার ফ্লাগ হিসেবে ব্যবহার করলে ওই ইন্টেজারের ১৫ টা বিট নষ্ট করতেছি তাই না। কারন আমরা ব্যবহার করতেছি একদম লাস্ট বিটটা। এখন আমরা যদি বাকি ১৫ টা বিট ব্যবহার করতে পারতাম তাহলে আমাদের প্রাইমের রেঞ্জ হইত ১৬*১০০০০০০০০০০ == ১৬০০০০০০০০০০। অনেক বড় তাই না। Long ব্যবহার করে আমরা অলমোস্ট ৩২০০০০০০০০০০ পর্যন্ত প্রাইম ব্যবহার করতে পারি।</p>

<p>এখন বিট সিভ-এ আমরা করবটা কি? একদম সোজা সিভ-ই চালাব কিন্তু একটু বুদ্ধিমান ভাবে। আগে S Array-এর ইনডেক্স আমরা ব্যবহার করতাম এইবার করব অন্য রকম। কি রকম - S Array-এর ০ ইনডেক্স এর ১ম বিট Represent করবে ১ কে, ০ ইনডেক্স এর ২য় বিট Represent করবে দুই কে। এইভাবে ৯৯৯৯৯৯৯৯৯ ইনডেক্স এর ১৬ম বিট Represent করবে ১৬০০০০০০০০০০ কে। সহজ না।</p>

<p>এখন এই কাজটা কেমনে করব। (অনেক কিছু-ই আছে আমি বুঝি কিন্তু এখন-ও জানি না যে ঐ কাজ টা কেমনে করব।) তাই প্রথমে-ই কিছু বিট-অপারেশন শিখা জরুরি। বিট And, Or এবং Shift. এই তিনটা পারলে-ই আমাদের হবে।</p>

<p>কেউ যদি না পার তাহলে এই লিঙ্কটা দেখতে পার আশা করি ভাল ভাবে বুঝে যাবেঃ <a href="http://binaryrongo.wordpress.com/2013/07/27/bitwise-operator/" target="_blank">http://binaryrongo.wordpress.com/2013/07/27/bitwise-operator/</a></p>

<p>এখন আমাদের কে বিট সিভ করতে হবে। সিভের কন্সেপ্ট মনে আছে?? কি করতাম আমরা &ndash; ২ থেকে ঘুরা শুরু করতাম দেখতাম ঐটা প্রাইম নাকি মানে চেক করতাম যে S এর ঐ পজিশনে ১ আছে নাকি। থাকলে ঐ সংখার সকল মাল্টিপ্লায়ার গুলার ইনডেক্স ০ করে দিতাম। আর প্রাইম না হলে মানে ইনডেক্স ০ হলে পরের নাম্বারে চলে যেতাম। এখানে-ও তাই করব জাস্ট S এর ইনডেক্স এর বদলে এইবার S এর ইনডেক্স এর বিট ব্যবহার করব।</p>

<p>এই কাজের জন্য আমরা দুইটা ফাংশন লিখব। int check(long n, long pos) যা আমাদের n ইন্টেজারের pos তম বিটটা চেক করে দিবে যে এইটা ১ নাকি ০। এবং long set(long n, long pos) n এর pos তম বিটটা ১ করে দিবে। বাকিটা ত সিভের মতই।</p>

<p>এতক্ষন যা বললাম তার একটা ইমপ্লিমেন্টেশনঃ</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#339;font-weight:bold">int</span> <span style="color:#06b;font-weight:bold">setBit</span>( <span style="color:#339;font-weight:bold">int</span> n, <span style="color:#339;font-weight:bold">int</span> position )
{
    n <span style="color:#333">=</span> n <span style="color:#333">|</span> ( <span style="color:#00d;font-weight:bold">1</span> <span style="color:#333">&lt;&lt;</span> position );
    <span style="color:#080;font-weight:bold">return</span> n;
}


<span style="color:#339;font-weight:bold">bool</span> <span style="color:#06b;font-weight:bold">checkBit</span>( <span style="color:#339;font-weight:bold">int</span> n, <span style="color:#339;font-weight:bold">int</span> position )
{
    <span style="color:#080;font-weight:bold">return</span> n <span style="color:#333">&amp;</span> ( <span style="color:#00d;font-weight:bold">1</span> <span style="color:#333">&lt;&lt;</span> position );
}


<span style="color:#579">#define MAX 10001
</span><span style="color:#579"></span>
<span style="color:#339;font-weight:bold">int</span> prime[MAX];

<span style="color:#339;font-weight:bold">void</span> <span style="color:#06b;font-weight:bold">primeGenerator</span>( <span style="color:#339;font-weight:bold">int</span> n )
{
    <span style="color:#339;font-weight:bold">int</span> x <span style="color:#333">=</span> sqrt( n );
    prime[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">=</span> setBit( prime[<span style="color:#00d;font-weight:bold">0</span>], <span style="color:#00d;font-weight:bold">0</span> );
    prime[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">=</span> setBit( prime[<span style="color:#00d;font-weight:bold">0</span>], <span style="color:#00d;font-weight:bold">1</span> );
    <span style="color:#080;font-weight:bold">for</span>( <span style="color:#339;font-weight:bold">int</span> i <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">4</span>; i <span style="color:#333">&lt;=</span> x; i <span style="color:#333">+=</span> <span style="color:#00d;font-weight:bold">2</span> )
        prime[i<span style="color:#333">/</span><span style="color:#00d;font-weight:bold">32</span>] <span style="color:#333">=</span> setBit( prime[i<span style="color:#333">/</span><span style="color:#00d;font-weight:bold">32</span>], i<span style="color:#333">%</span><span style="color:#00d;font-weight:bold">32</span> );
    <span style="color:#080;font-weight:bold">for</span>( <span style="color:#339;font-weight:bold">int</span> i <span style="color:#333">=</span> <span style="color:#00d;font-weight:bold">3</span>; i <span style="color:#333">&lt;=</span> x; i <span style="color:#333">+=</span> <span style="color:#00d;font-weight:bold">2</span> )
    {
        <span style="color:#080;font-weight:bold">if</span>( <span style="color:#333">!</span>checkBit( prime[i<span style="color:#333">/</span><span style="color:#00d;font-weight:bold">32</span>], i<span style="color:#333">%</span><span style="color:#00d;font-weight:bold">32</span> )
        {
            <span style="color:#080;font-weight:bold">for</span>( <span style="color:#339;font-weight:bold">int</span> j <span style="color:#333">=</span> i<span style="color:#333">+</span>i; j <span style="color:#333">&lt;=</span> n; j <span style="color:#333">+=</span> i )
                prime[j<span style="color:#333">/</span><span style="color:#00d;font-weight:bold">32</span>] <span style="color:#333">=</span> setBit( prime[j<span style="color:#333">/</span><span style="color:#00d;font-weight:bold">32</span>], j<span style="color:#333">%</span><span style="color:#00d;font-weight:bold">32</span> );
        }
    }

}</code></pre></div>

<p>এইটা হল সিভের খালাত ভাই।</p>

<p>এখন আমার পার্সোনাল ফেভারিট সিভের সুন্দরি খালাত বোন। সেগমেন্ট সিভ। এইটা একটা ইস্পিসাল কাইন্ড অব সিভ। যা একটা নির্দিস্ট রেঞ্জের মধ্যে কাজ করে। ধর A এবং B দুইটা ইন্টিজার ভ্যলু। সাপোজ A=100000 এবং B=255555 যাদের মধ্যে একটা নির্দিস্ট দুরত্ব থাকবে। সেগমেন্ট সিভ এই দুই দুরুত্বের মাঝে কাজ করে এদের মধ্যে যত প্রাইম নাম্বার আছে তা বের করে দিবে।এইটা নিয়া পরে আরেকদিন লেখব নে।</p>

<p>আপাতত বিট সিভ নিয়া গেজাও। প্রবলেম সলভ কর। কোন সমস্যায় পরলে আমাদের কাছে জানাইতে ভুইল না।</p>

      </div>
    </div>
  </article>

  <br>
  <hr>
  <nav>
  <ul class="pager">
    

    
    <li class="next"><a href="https://sadlil.com/blog/mysql-deadlock/">How Do We Get Rid of a InnoDB Deadlock <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

  <hr>
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sadlil-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>



</div>
<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2019 Kazi Sadlil Rhythom &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    
    <script src="//cdn.rawgit.com/noelboss/featherlight/1.7.0/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/go.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/makefile.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/cpp.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/json.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/yaml.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/bash.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

